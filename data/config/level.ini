; Waves - config file
; Should be used with orx v.1.8+

[O-Level]
Group           = Game
Pivot           = top left
ID              = Level
TrackList       = T-StoreID

[S-Level]
Code            = "
void main()
{
    vec4 color = vec4(0.0, 0.0, 0.0, 0.0);
    vec4 lvl = texture2D(Level, gl_TexCoord[0].xy);
    vec2 pos = gl_TexCoord[0].xy;
    vec2 uv = mod(pos * vec2(1920.0/40.0, 1080./40.0), 1.0);

    float values[4] = float[4](lvl.r, lvl.g, lvl.b, lvl.a);

    for(int i = 0; i < 3; i++)
    {
        if(values[i] > 0.5)
        {
            color += texture2D(PatternList[i], uv);

            if(int(SourceCount) > i)
            {
                if(distance(SourceList[i].xy, pos) <= 0.3)
                {
                    color.rgb += vec3(1.0, 0, 0);
                }
            }
        }
    }

    gl_FragColor = color;
}
"
ParamList   = Level # PatternList # SourceList # SourceCount
PatternList = i.png # you.png # us.png # good.png
SourceList  = (0.8, 0.5, 0) # (0, 0, 0) # (0, 0, 0) # (0, 0, 0)
SourceCount = 1

@lvl/00_Tutorial_1.ini@
