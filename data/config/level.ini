; Waves - config file
; Should be used with orx v.1.8+

[O-Level]
Group           = Game
Pivot           = top left
ID              = Level
TrackList       = T-StoreID

[S-Level]
Code            = "
void main()
{
    vec4 color = vec4(0.0, 0.0, 0.0, 0.0);
    vec2 pos = gl_TexCoord[0].xy;

    vec2 dist = vec2(0.5) - pos;
    dist.y *= 1080.0 / 1920.0;

    if(length(dist) < Radius)
    {
        vec4 lvl = texture2D(Level, gl_TexCoord[0].xy);
        vec2 uv = mod(pos * vec2(1920.0/40.0, 1080./40.0), 1.0);

        float values[4] = float[4](lvl.r, lvl.g, lvl.b, lvl.a);

        for(int i = 0; i < 4; i++)
        {
            if(values[i] > 0.5)
            {
                vec2 dist = SourceList[i].xy - pos;
                dist.y *= 1080.0 / 1920.0;

                color += texture2D(PatternList[i], uv);

                if(length(dist) <= SourceRadiusList[i])
                {
                    color.rgb += SourceColorList[i];
                }
            }
        }

        if(color.a == 0.0)
        {
            color = vec4(0.16, 0.16, 0.16, 1.0);
        }
    }

    gl_FragColor = color;
}
"
ParamList   = Level # PatternList # SourceList # SourceColorList # SourceRadiusList # SourceCount # Radius # Time
Radius      = 0.26
PatternList = i.png # you.png # us.png # good.png
SourceList  = (0, 0, 0) # (0, 0, 0) # (0, 0, 0) # (0, 0, 0)
SourceColorList = (0, 0, 0) # (0, 0, 0) # (0, 0, 0) # (0, 0, 0)
SourceRadiusList = 0 # 0 # 0 # 0
SourceCount = 0
Time        = 0


[Pattern-i]
Texture     = i.png
Color       = (0.12, 1, 0)

[Pattern-you]
Texture     = you.png
Color       = (0.9, 0.37, 0.79)

[Pattern-us]
Texture     = us.png
Color       = (0.54, 0.38, 0.89)

[Pattern-other]
Texture     = other.png
Color       = (0.38, 0.74, 0.89)

[Pattern-good]
Texture     = good.png
Color       = (0.12, 0.94, 0.72)

[Pattern-bad]
Texture     = bad.png
Color       = (1, 0.67, 0.41)


@00_Tutorial_1.ini@
@01_Tutorial_2.ini@
@02_Tutorial_3.ini@
@03_Tutorial_4.ini@
